"use strict";(self.webpackChunkreact_typescript_webpack_backend_editor=self.webpackChunkreact_typescript_webpack_backend_editor||[]).push([[245],{4245:(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var n=r(3871),o=r(935),i=r(288),a=r(3254),l=r(8122),c=r(5350),s=r(824),_=r(4185),O=r(917),p=r(36),u=r(802),E=r(4411),f=r(1234),d=r(3425),I=r(2328),y=r(7839),m=r(1921),T=r(230),g=r(6486),b=r(7294),S=r(7536),P=r(5944);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==G(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,"string");if("object"!==G(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===G(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e,t){if(e){if("string"==typeof e)return A(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?A(e,t):void 0}}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var D="\n<div>\n  <p>".concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_TITLE"),":</p>\n\n  <ol>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_1"),' <a href="https://developers.google.com/fonts/docs/developer_api" target="_blank" rel="nofollow noreferrer">https://developers.google.com/fonts/docs/developer_api</a></li>\n      <li>').concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_2",{key:'<strong>"'.concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_GET_A_KEY"),'"</strong>')}),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_3",{key:'<strong>"'.concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_GET_A_KEY"),'"</strong>')}),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_4"),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_5",{showKey:'<strong>"'.concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_SHOW_A_KEY"),'"</strong>')}),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_6",{steps:'<strong>"'.concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_STEPS"),'"</strong>')}),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_7",{apiKey:'<strong>"'.concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_GOOGLE_FONT_API_KEY"),'"</strong>')}),"</li>\n      <li>").concat((0,f.O)("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INSTRUCTION_8"),"</li>\n  </ol>\n</div>\n");const C=function(){var e,t,r,s=(0,f.$)(),_=(t=(0,b.useState)([]),r=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,o,i,a,l=[],c=!0,s=!1;try{if(i=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=r.return&&(a=r.return(),Object(a)!==a))return}finally{if(s)throw o}}return l}}(t,r)||L(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),O=_[0],m=_[1],G=(0,u.O)({defaultValues:{search:"",filter:""}}),R=G.watch(),h=R.search,C=R.filter,N=(0,p.N)(h),M=(0,y.Sq)({search:N,category:C}),W=(0,E.Z)(),B=W.intersectionEntry,x=W.intersectionElementRef,w=(0,I.v)((function(e){return e.appConfig}));(0,b.useEffect)((function(){null!=B&&B.isIntersecting&&M.fetchNextPage()}),[null==B?void 0:B.isIntersecting,M]);var Z=(0,b.useMemo)((function(){var e,t;return null!==(e=null===(t=M.data)||void 0===t?void 0:t.pages.flatMap((function(e){return e.results})))&&void 0!==e?e:[]}),[null===(e=M.data)||void 0===e?void 0:e.pages]);return w.has_google_font_api_key?!(0,T.$K)(M.data)&&(0,T.$K)(M.error)?(0,P.tZ)(d.Z,{orientation:"vertical",title:M.error.message,content:"ERR_BAD_REQUEST"===M.error.code?D:"",customCss:U.emptyStateCustom,errorMessage:s("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_INVALID_API_KEY")}):(0,P.BX)(P.HY,{children:[(0,P.BX)("div",{css:U.filterWrapper,children:[(0,P.tZ)("div",{css:U.textInputWrapper,children:(0,P.tZ)(S.Qr,{control:G.control,name:"search",render:function(e){return(0,P.tZ)(c.Z,v(v({},e),{},{variant:"search",placeholder:s("COM_SPPAGEBUILDER_EDITOR_FONT_BOOK_SEARCH_PLACEHOLDER"),isClearable:!0}))}})}),(0,P.tZ)("div",{css:U.selectWrapper,children:(0,P.tZ)(S.Qr,{control:G.control,name:"filter",render:function(e){return(0,P.tZ)(l.Z,v(v({},e),{},{options:w.google_font_categories,onChange:function(e){return console.log(e)},placeholder:s("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_CATEGORIES_PLACEHOLDER"),isClearable:!0}))}})})]}),(0,P.BX)("div",{css:U.topPanel,children:[(0,P.tZ)(i.Z,{routes:[{link:null,text:s("COM_SPPAGEBUILDER_EDITOR_FONT_MANAGER_ALL_ITEMS")},{link:null,text:s("COM_SPPAGEBUILDER_EDITOR_FONT_MANAGER_GOOGLE_FONTS")}],onFilterChange:g.noop}),O.length>0&&(0,P.BX)("div",{css:U.topPanelActionsWrapper,children:[(0,P.tZ)("p",{children:s(O.length>1?"COM_SPPAGEBUILDER_EDITOR_MEDIA_ITEMS_SELECTED":"COM_SPPAGEBUILDER_EDITOR_MEDIA_ITEM_SELECTED",{numberOfItems:O.length})}),(0,P.tZ)("div",{children:(0,P.tZ)(n.Z,{variant:"primary",onClick:function(){console.log("install google font")},children:s("COM_SPPAGEBUILDER_EDITOR_LANGUAGES_PAGE_BUTTON_TEXT_INSTALL")})})]})]}),(0,P.BX)("div",{css:U.innerWrapper,children:[M.isLoading?(0,P.tZ)(o.g4,{}):(0,P.tZ)("div",{css:U.fontsWrapper,children:Z.map((function(e){return(0,P.tZ)(a.Z,{type:"google",font:{type:"google",family:e.family,variants:e.variants,installed_variants:e.installed_variants,category:"",is_installed:!1},isChecked:O.includes(e.family),onChange:function(){return m((function(t){return t.includes(e.family)?t.filter((function(t){return t!==e.family})):[].concat(function(e){return function(e){if(Array.isArray(e))return A(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||L(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(t),[e.family])}))}},e.family)}))}),(0,P.tZ)("div",{ref:x,css:U.infiniteLoader({isVisible:!M.isLoading&&M.hasNextPage}),children:(0,P.tZ)(o.ZP,{})})]})]}):(0,P.tZ)(d.Z,{orientation:"vertical",title:s("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_ADD_API_KEY"),content:D,customCss:U.emptyStateCustom,errorMessage:s("COM_SPPAGEBUILDER_EDITOR_GOOGLE_FONT_API_KEY_MISSING")})};var N={name:"1tbj5j9-infiniteLoader",styles:"display:block;label:infiniteLoader;"},U={rightSideWrapper:{name:"idves2-rightSideWrapper",styles:"width:100%;display:flex;flex-direction:column;label:rightSideWrapper;"},emptyStateCustom:(0,O.iv)("text-align:left;margin-top:",s.W0[20],";ol{list-style-type:decimal;text-align:left;list-style-position:inside;li{",_.c.body("medium"),";color:",s.qo.text.neutral,";margin-bottom:",s.W0[8],";}}span{font-weight:",s.Ue.bold,";}a{color:",s.qo.text.primary,";text-decoration:underline;}p{",_.c.body("medium"),";color:",s.qo.text.neutral,";margin-bottom:",s.W0[16],";};label:emptyStateCustom;"),innerWrapper:(0,O.iv)(m.iZ.overflowYAuto,";max-height:calc(90vh - 180px);padding-right:",s.W0[24],";;label:innerWrapper;"),fontsWrapper:(0,O.iv)("display:grid;grid-template-columns:repeat(5, minmax(120px, 1fr));gap:",s.W0[24],";",s.Uo.tablet,"{grid-template-columns:repeat(4, minmax(120px, 1fr));};label:fontsWrapper;"),filterWrapper:(0,O.iv)("display:flex;justify-content:center;gap:",s.W0[16],";;label:filterWrapper;"),textInputWrapper:{name:"1r9fuqm-textInputWrapper",styles:"flex:1;label:textInputWrapper;"},selectWrapper:{name:"1u54jb-selectWrapper",styles:"width:160px;label:selectWrapper;"},topPanel:(0,O.iv)("display:flex;justify-content:space-between;align-items:center;gap:",s.W0[8],";height:32px;margin-top:",s.W0[32],";margin-bottom:",s.W0[20],";;label:topPanel;"),topPanelActionsWrapper:(0,O.iv)("display:flex;justify-content:center;gap:",s.W0[16],";p{",_.c.body("medium"),";margin:auto 0;};label:topPanelActionsWrapper;"),infiniteLoader:function(e){var t=e.isVisible,r=void 0!==t&&t;return(0,O.iv)("display:none;text-align:center;height:40px;margin-top:",s.W0[16],";",r&&N,";;label:infiniteLoader;")}}}}]);